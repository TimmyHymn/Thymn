<style type="text/css">
pre { font-size:600%; text-align:center;}
p { font-size:600%;  text-align:center;}
</style>
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="viewport" content="width=device-height, initial-scale=0.2 , maximum-scale=2 ,minimum-scale=0.2">
<title>網頁版詩歌2024/05/29 修正</title>

<script language="JavaScript">
<!-- hide script from old browser

var answer=0
var lastvalue=0
var op="+"
var lastop="+"
var newnumber=true
var WBook
function Backspace()
{
var SSN
SSN=document.calc.result.value
//if (parseInt(document.calc.result.value) < 10)
//{
//document.calc.result.value=""
//newnumber=false
//} 

if (parseInt(document.calc.result.value) >9){document.calc.result.value=SSN.substring(0,SSN.length-1)}
 
else
{
document.calc.result.value=""
newnumber=false
}
}



function appendNumber(digit){

if (op==" = ")
clearall()
if ((!newnumber)&&(document.calc.result.value!="0"))
document.calc.result.value+=eval(digit)
else
document.calc.result.value=""+eval(digit)
newnumber=false
}

function clearnow(){
answer=0
document.calc.result.value=""
document.calc.sresult.value=""
newnumber=true
//*******隱藏搜尋
document.getElementById('ST').innerHTML = ""
var result_style = document.getElementById('SniffBox').style;
result_style.display = 'none';
//*******隱藏搜尋

document.getElementById('SHOW').innerHTML = ""
}


function operate(operation){
answer=document.calc.result.value
if(document.calc.sresult.value=="")
{


//************顯示隱藏搜尋********************
if(answer==31)
{
var result_style = document.getElementById('SniffBox').style;
result_style.display = '';
document.getElementById('ST').innerHTML = ""
document.getElementById('SniffBox').scrollIntoView();
return
}

//************顯示與隱藏搜尋********************
document.getElementById('SHOW').innerHTML = "<pre>請先點選歌本</p>"
document.getElementById('SHOW').scrollIntoView();
return
}
var YN=0
//answer=document.calc.result.value

if(document.calc.sresult.value=="詩歌")
{
WBook = 1
}
if(document.calc.sresult.value=="補充")
{
WBook = 2
}
if(document.calc.sresult.value=="新頌")
{
WBook = 3
}
if(document.calc.sresult.value=="紅本")
{
WBook = 4
}
if(document.calc.sresult.value=="兒童")
{
WBook = 5
}

if(document.calc.sresult.value=="藍本")
{
WBook = 6
}

answer=document.calc.result.value
for (i=0; i<= BKArr.length-1; i=i+1)
{
var SS = BKArr[i].split("^");

  if (SS[0]==WBook & SS[1]==answer)
  {
//  SS[2]= SS[2].replace(/\@/g,"\n")   //使用 changeColor ()
  document.getElementById('SHOW').innerHTML = "<pre>"+changeColor(SS[2])+"</p>"
  YN=1
  }
}
if (YN==0){
document.getElementById('SHOW').innerHTML = "<pre>無此首</p>"
          }
  document.getElementById('SHOW').scrollIntoView();
}
function changeColor(S)
{
var SS = S.split("@");
var RS="<Font color='Red'><B>"
for (var k=0; k<= SS.length-1; k=k+1)
{ 
RS=RS+SS[k]+"\n"
if(k==2)(RS=RS+"</Font></B>")
} 
return RS
} 

function change(){
answer=-1*document.calc.result.value
document.calc.result.value=answer
}
function Scantxt(){
var result_style = document.getElementById('SniffBox').style;
result_style.display = '';
document.getElementById('ST').innerHTML = ""
document.getElementById('SniffBox').scrollIntoView();
return
}

function WB(Ans){

WBook = Ans
answer=0
document.calc.result.value=""
document.getElementById('SHOW').innerHTML = ""
newnumber=true
if(Ans=="1")
document.calc.sresult.value="詩歌"
if(Ans=="2")
document.calc.sresult.value="補充"
if(Ans=="3")
document.calc.sresult.value="新頌"
if(Ans=="4")
document.calc.sresult.value="紅本"

if(Ans=="5")
document.calc.sresult.value="藍本"
if(Ans=="6")
document.calc.sresult.value="兒童"

//*******隱藏搜尋
document.getElementById('ST').innerHTML = ""
var result_style = document.getElementById('SniffBox').style;
result_style.display = 'none';
//*******隱藏搜尋
}



function point(){
if (!newnumber)
{
number=document.calc.result.value
if (number.indexOf('.')==-1)
document.calc.result.value+="."
}
}

//***************************
function HelpTXT()
{
 

document.getElementById('SHOW').innerHTML = HS
document.getElementById('SHOW').scrollIntoView();
}
//*********************************

function G2B(T)
{
var SB = T.split("^");
alert(T)
alert(SB[0])
alert(SB[0])
for (i=0; i<= BKArr.length-1; i=i+1)
{
var SS = BKArr[i].split("^");

  if (SS[0]==SB[0] & SS[1]==SB[1])
  {
  SS[2]= SS[2].replace(/\@/g,"\n") 
  document.getElementById('SHOW').innerHTML = "<pre>"+SS[2]+"</p>"
  }
}

}

//***搜尋內容**********************************************
 
   //搜尋結果的超連結
function Href(A,B)
{ 
WB(A)
appendNumber(B)
 
operate(this.value) 
document.SNIT.SN.value=""
}

function FineS(S)
{
if (S==''){
document.getElementById('ST').innerHTML = ""
return
}

document.getElementById('ST').innerHTML = ""
var K=-1
var RS=""
var B1=""
var B2=""
var B3=""
var B4=""
var B5=""
var B6=""
for (i=0; i<= BKArr.length-1; i=i+1)
{

var SS = BKArr[i].split("^");
SS[2]= SS[2].replace(/\，/g,"")    
SS[2]= SS[2].replace(/\。/g,"")    
SS[2]= SS[2].replace(/\＂/g,"")    
SS[2]= SS[2].replace(/\！/g,"")    
SS[2]= SS[2].replace(/\,/g,"")    
SS[2]= SS[2].replace(/\？/g,"")    
SS[2]= SS[2].replace(/\?/g,"")    
SS[2]= SS[2].replace(/\ /g,"")    
  if (SS[2].indexOf(S)!=-1)
  {
  K=SS[2].indexOf(S)
  SS[2]= SS[2].replace(/\@/g," ")   
  
if(SS[0]==1){ B1=B1+"<a href='javascript: void(0)' onclick='Href(" +SS[0]+","+SS[1]+ ")'>"+"大本詩歌-"+SS[1]+"首\n"+SS[2].substring(1,12)+"\n\n" +"</a>"}
if(SS[0]==2){ B2=B2+"<a href='javascript: void(0)' onclick='Href(" +SS[0]+","+SS[1]+ ")'>"+"補充本-"+SS[1]+"首\n"+SS[2].substring(1,12)+"\n\n" +"</a>" }
if(SS[0]==3){ B3=B3+"<a href='javascript: void(0)' onclick='Href(" +SS[0]+","+SS[1]+ ")'>"+"新歌頌詠-"+SS[1]+"首\n"+SS[2].substring(1,12)+"\n\n" +"</a>" }
if(SS[0]==4){ B4=B4+"<a href='javascript: void(0)' onclick='Href(" +SS[0]+","+SS[1]+ ")'>"+"紅本新詩-"+SS[1]+"首\n"+SS[2].substring(1,12)+"\n\n" +"</a>" }
if(SS[0]==5){ B5=B5+"<a href='javascript: void(0)' onclick='Href(6" +","+SS[1]+ ")'>"+"兒歌-"+SS[1]+"首\n"+SS[2].substring(1,12)+"\n\n" +"</a>" }
if(SS[0]==6){ B6=B6+"<a href='javascript: void(0)' onclick='Href(5" +","+SS[1]+ ")'>"+"藍本新詩-"+SS[1]+"首\n"+SS[2].substring(1,12)+"\n\n" +"</a>" }
  }
}
RS = B1+B2+B3+B4+B5+B6

if (RS!="")
{

RS="<PRE>"+RS+"</P>"
document.getElementById('ST').innerHTML = RS
}
else{document.getElementById('ST').innerHTML = ""}
}

//*********************

</script>

</head> 
<body>

<form name="calc">
<div align="center">


<div align="center">
<center>
<table id="table2" border="1" bordercolor="#ff80c0" cellpadding="0" width="100%" height="100%">
<tbody>

<tr>
<td width="25%"><input size="21" name="sresult" value="" onfocus="blur()" style="color: rgb(0,0,255); font-family: verdana; font-size:600%; width:100%; height:100%; type="button "></TD>
<td width="25%"><input size="21" name="result" value="_" onfocus="blur()" style="color: rgb(0,0,255); font-family: verdana; font-size:600%; width:100%; height:100%; type="text"></td>
<td width="25%"><input name="DEL" value=" ← " onclick="Backspace()" style="background-color: rgb(255, 255, 255); font-family: verdana; font-size:600%; color: rgb(255,0,0); width:100%; height:100%;" type="button"></td>
</tr>


<tr>
<td width="25%"><input name="詩歌" value="詩歌" onclick="WB(1)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="1" value=" 1 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="2" value=" 2 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="3" value=" 3 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>

</td>
<tr>
<td width="25%"><input name="補充" value="補充" onclick="WB(2)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>

<td width="25%"><input name="4" value=" 4 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="5" value=" 5 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="6" value=" 6 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>

</td>
</tr>
<tr>
<td width="25%"><input name="新頌" value="新頌" onclick="WB(3)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="7" value=" 7 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="8" value=" 8 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="9" value=" 9 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>

</td>

</tr>
<tr>
<td width="25%"><input name="紅本" value="紅本" onclick="WB(4)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>

<td width="25%"><input name="C" value="清除" onclick="clearnow()" style="font-family: verdana; font-size:600%; background-color: rgb(255, 255, 0); color: rgb(255,0,0); width:100%; height:100%;" type="button"></td>

<td width="25%"><input name="0" value=" 0 " onclick="appendNumber(this.value)" style="background-color: rgb(255, 255, 0); font-family: verdana; font-size:600%; color: rgb(0,0,255); width:100%; height:100%;" type="button"></td>

</td>
<td width="25%"><input name="=" value="確定" onclick="operate(this.value)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(0,255,0); width:100%; height:100%;" type="button"></td>

</tr>
<tr>

<td width="25%"><input name="藍本" value="藍本" onclick="WB(5)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="兒童" value="兒童" onclick="WB(6)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="搜尋" value="搜尋" onclick="Scantxt()" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>
<td width="25%"><input name="目錄" value="目錄" onclick="HelpTXT()" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:600%; color: rgb(255, 255, 0); width:100%; height:100%;" type="button"></td>
</tr>
</tbody>
</table>
</center>
</p></div>
</p></div>
</form>

<div id="SniffBox" style="display:none;">
<form name="SNIT">
<table id="table2" border="1" bordercolor="#ff80c0" cellpadding="0" width="100%" height="3%">
<td width="100%"><P>搜尋：<input name="SN" value=""  oninput="FineS(this.value)" style="background-color: rgb(0, 0, 255); font-family: verdana; font-size:100%; color: rgb(255, 255, 0); width:50%; height:100%;" type="text"></p</td>
</table>
</form> 
<div id="ST"></div></div>

<div id="SHOW"></div>
</body>
</html>
