<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSQL Demo</title>
</head>
<body>
    <h1>WebSQL Example</h1>
    <button onclick="addData()">Add Data</button>
    <button onclick="getData()">Get Data</button>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (!window.openDatabase) {
                alert('WebSQL is not supported by your browser.');
                return;
            }

            const db = openDatabase('myDatabase', '1.0', 'Test DB', 2 * 1024 * 1024);
            db.transaction(tx => {
                tx.executeSql('CREATE TABLE IF NOT EXISTS Users (user_id UNIQUE, name)');
            });
        });

        function addData() {
            const db = openDatabase('myDatabase', '1.0', 'Test DB', 2 * 1024 * 1024);
            db.transaction(tx => {
                tx.executeSql('INSERT INTO Users (user_id, name) VALUES (?, ?)', [1, 'Sample User']);
            });
        }

        function getData() {
            const db = openDatabase('myDatabase', '1.0', 'Test DB', 2 * 1024 * 1024);
            db.transaction(tx => {
                tx.executeSql('SELECT * FROM Users', [], (tx, results) => {
                    const len = results.rows.length;
                    for (let i = 0; i < len; i++) {
                        const row = results.rows.item(i);
                        console.log(`User ID: ${row.user_id}, Name: ${row.name}`);
                        alert(`User ID: ${row.user_id}, Name: ${row.name}`);
                    }
                });
            });
        }
    </script>
</body>
</html>
